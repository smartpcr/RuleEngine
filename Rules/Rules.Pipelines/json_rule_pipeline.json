{
  "job": {
    "ruleSetId": "",
    "dcName": ""
  },
  "activities": [
    {
      "name": "producer",
      "activity": "Rules.Validations.PowerDeviceProducer, Rules.Validations",
      "type": "IPayloadProducer",
      "input": null,
      "output": "Rules.Validations.DeviceValidationPayload, Rules.Validations",
      "config": {
        "bufferSize": 1000,
        "provider": "Rules.Validations.DeviceContextProvider, Rules.Validations",
        "enrichments": [
          "Rules.Validations.DeviceRelationEnricher, Rules.Validations"
        ]
      }
    },
    {
      "name": "jsonRuleEvaluator",
      "activity": "Rules.Validations.PowerDeviceEvaluator, Rules.Validations",
      "type": "IPayloadTransformer",
      "input": "Rules.Validations.DeviceValidationPayload, Rules.Validations",
      "output": "Rules.Validations.DeviceValidationResult, Rules.Validations",
      "config": {
        "bufferSize": 1000,
        "taskPoolSize": 8,
        "score": {
          "entity": "DataCenterHealth.Models.Rules.ValidationRule, DataCenterHealth.Models",
          "filterExpression": "whenExpression",
          "evaluateExpression": "ifExpression",
          "true": "trueScore",
          "false": "falseScore",
          "missing": "missingScore",
          "weight": "weight"
        }
      }
    },
    {
      "name": "batch",
      "activity": "Rules.Validations.PowerDeviceValidationResultBatcher, Rules.Validations",
      "type": "IPayloadBatcher",
      "input": "Rules.Validations.DeviceValidationResult, Rules.Validations",
      "output": "Rules.Validations.DeviceValidationResult, Rules.Validations",
      "config": {
        "batchSize": 100
      }
    },
    {
      "name": "persistence",
      "activity": "Rules.Validations.PowerDeviceValidationResultToDb, Rules.Validations",
      "type": "IPayloadPersistence",
      "input": "Rules.Validations.DeviceValidationResult, Rules.Validations",
      "output": null,
      "config": {
        "batchSize": 100
      }
    }
  ],
  "pipeline": [
    {
      "from": "producer",
      "to": ["jsonRuleEvaluator"]
    },
    {
      "from": "jsonRuleEvaluator",
      "to": ["batch"]
    },
    {
      "from": "batch",
      "to": ["persistence"]
    }
  ]
}